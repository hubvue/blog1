{"componentChunkName":"component---src-templates-blog-post-js","path":"/content/JavaScript/javascript-execution-context/","result":{"data":{"site":{"siteMetadata":{"title":"Kim Blog","author":"Kim"}},"markdownRemark":{"id":"df5feff9-a3e1-5069-88ca-3ca68971aefd","excerpt":"å‰è¨€ ä½œä¸ºä¸€ä¸ªå‰ç«¯ erï¼Œå½“æˆ‘ä»¬åœ¨å†™ JavaScript ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šè¢« JavaScript ä¸­é¥±å—è¯Ÿç—…çš„ç‰¹æ€§æçš„æ™•å¤´è½¬å‘ã€‚å…¶å˜é‡æå‡ã€ä½œç”¨åŸŸã€é—­åŒ…ç­‰ç‰¹æ€§æˆ‘ä»¬åªèƒ½é€šè¿‡ä¾‹å­æ¥æ‘¸ç´¢å‡ºç‰¹æ€§çš„è§„å¾‹ä»è€Œå¾—å‡ºä¸€ä¸ªæ„Ÿè§‰çš„ç»“è®ºã€‚å…¶å®ï¼Œè¿™äº›ç‰¹æ€§éƒ½å’Œ JavaScriptâ€¦","html":"<h2>å‰è¨€</h2>\n<p>ä½œä¸ºä¸€ä¸ªå‰ç«¯ erï¼Œå½“æˆ‘ä»¬åœ¨å†™ JavaScript ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šè¢« JavaScript ä¸­é¥±å—è¯Ÿç—…çš„ç‰¹æ€§æçš„æ™•å¤´è½¬å‘ã€‚å…¶å˜é‡æå‡ã€ä½œç”¨åŸŸã€é—­åŒ…ç­‰ç‰¹æ€§æˆ‘ä»¬åªèƒ½é€šè¿‡ä¾‹å­æ¥æ‘¸ç´¢å‡ºç‰¹æ€§çš„è§„å¾‹ä»è€Œå¾—å‡ºä¸€ä¸ªæ„Ÿè§‰<code class=\"language-text\">å·®ä¸å¤š</code>çš„ç»“è®ºã€‚å…¶å®ï¼Œè¿™äº›ç‰¹æ€§éƒ½å’Œ JavaScript æ‰§è¡Œç¯å¢ƒæœ‰å…³ï¼Œæœ¬ç¯‡æ–‡ç« é€šè¿‡æ¢ç©¶ä»å¤è‡³ä»Šçš„ JavaScript æ‰§è¡Œç¯å¢ƒæ¥å½»åº•å¼„æ˜ç™½å˜é‡æå‡ã€ä½œç”¨åŸŸã€é—­åŒ…ç­‰çš„åŸç†ã€‚</p>\n<h2>ä»€ä¹ˆæ˜¯æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡ï¼Ÿ</h2>\n<p>åœ¨ JavaScript ä¸­å­˜åœ¨æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡è¿™ä¸ªæ¦‚å¿µï¼Œå®ƒè¡¨ç¤º JavaScript ä»£ç çš„æ‰§è¡Œç¯å¢ƒã€‚æˆ‘ä»¬éƒ½çŸ¥é“ JavaScript å€¼å•çº¿ç¨‹ç»“æ„çš„ï¼Œå…¶å†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ª JavaScript å‡½æ•°æ‰§è¡Œæ ˆã€‚å½“å…¨å±€ä»£ç å’Œå‡½æ•°ä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼ŒJavaScript ä¼šå¯¹å…¶ç”Ÿæˆä¸€ä¸ªæ‰§è¡ŒæœŸä¸Šä¸‹æ–‡ï¼Œå¹¶æŠŠè¿™ä¸ªæ‰§è¡ŒæœŸä¸Šä¸‹æ–‡ push åˆ° JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¸­ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶å€™ JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¼šæŠŠå‡½æ•°çš„æ‰§è¡Œå™¨ä¸Šä¸‹æ–‡å¼¹å‡ºã€‚</p>\n<p>JavaScript ä¸­çš„æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡ä¸»è¦åˆ†ä¸º 3 ä¸­ï¼š</p>\n<ol>\n<li>Global Execution Context</li>\n<li>Function Execution Context</li>\n<li>Eval Execution Context</li>\n</ol>\n<p>æœ¬æ–‡ä¸»è¦ä»¥å‰ä¸¤ç§å¸¸ç”¨çš„è¿›è¡Œæ¢ç©¶ã€‚</p>\n<p>ä¾‹å¦‚ä»¥ä¸‹ä»£ç ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// global exection context</span>\n<span class=\"token keyword\">var</span> syHello <span class=\"token operator\">=</span> <span class=\"token string\">'Hello'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">person</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//function execution context</span>\n  <span class=\"token keyword\">var</span> first <span class=\"token operator\">=</span> <span class=\"token string\">'wang'</span><span class=\"token punctuation\">,</span> last <span class=\"token operator\">=</span> <span class=\"token string\">'chong'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">firstName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//function execution context</span>\n    <span class=\"token keyword\">return</span> first\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">lastName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//function execution context</span>\n    reutnr lase<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>sayHello<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">  </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">firstName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">  </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">lastName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ä¸Šé¢ä»£ç ä¸­å­˜åœ¨ç€ä¸¤ç§æ‰§è¡Œå™¨ä¸Šä¸‹æ–‡ï¼ŒJavaScript ä»£ç é¡ºåºæ‰§è¡Œï¼Œå…¶å‡½æ•°æ‰§è¡Œæ ˆä¼šå‘ç”Ÿä»¥ä¸‹å˜åŒ–ï¼š</p>\n<ol>\n<li>å½“ JavaScript ä»£ç æ•´ä½“æ‰§è¡Œçš„æ—¶å€™ä¼šæŠŠ<code class=\"language-text\">GlobalExectionContext</code>push åˆ° JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¸­</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">GlobalExectionContext</code></pre></div>\n<ol start=\"2\">\n<li>å½“æ‰§è¡Œ person å‡½æ•°çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆä¸€ä¸ª<code class=\"language-text\">FunctionExecutionContext</code>ï¼Œå¹¶æŠŠå®ƒ push åˆ° JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¸­</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">FunctionExecutionContext</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span>\nGlobalExectionContext</code></pre></div>\n<ol start=\"3\">\n<li>person å‡½æ•°å†…éƒ¨ï¼šé¦–å…ˆæ‰§è¡Œ firstName å‡½æ•°ï¼Œä¸ºå…¶ç”Ÿæˆ<code class=\"language-text\">FunctionExecutionContext</code>ï¼Œå¹¶æŠŠå®ƒ push åˆ° JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¸­</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">FunctionExecutionContext</span><span class=\"token punctuation\">(</span>firstName<span class=\"token punctuation\">)</span>\n<span class=\"token function\">FunctionExecutionContext</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span>\nGlobalExectionContext</code></pre></div>\n<ol start=\"4\">\n<li>å½“ firstName å‡½æ•°æ‰§è¡Œç»“æŸçš„æ—¶å€™ï¼ŒJavaScript å‡½æ•°æ‰§è¡Œæ ˆä¼šå°†å…¶å¯¹åº”çš„æ‰§è¡Œå™¨ä¸Šä¸‹æ–‡ pop å‡ºå»</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">FunctionExecutionContext</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span>\nGlobalExectionContext</code></pre></div>\n<ol start=\"5\">\n<li>firstName å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä¼šæ¥ç€æ‰§è¡Œ lastName å‡½æ•°ï¼Œä¸ºå…¶ç”Ÿæˆ<code class=\"language-text\">FunctionExecutionContext</code>ï¼Œå¹¶ push åˆ° JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¸­</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">FunctionExecutionContext</span><span class=\"token punctuation\">(</span>lastName<span class=\"token punctuation\">)</span>\n<span class=\"token function\">FunctionExecutionContext</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span>\nGlobalExectionContext</code></pre></div>\n<ol start=\"6\">\n<li>å½“ lastName å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå°†å…¶ä» JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¸­å¼¹å‡ºã€‚</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">FunctionExecutionContext</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span>\nGlobalExectionContext</code></pre></div>\n<ol start=\"7\">\n<li>person å‡½æ•°æ‰§è¡Œç»“æŸï¼Œå°†å…¶ä» JavaScript å‡½æ•°æ‰§è¡Œæ ˆä¸­å¼¹å‡º</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">GlobalExectionContext</code></pre></div>\n<ol start=\"8\">\n<li>æ•´ä½“ä»£ç æ‰§è¡Œå®Œæ¯•ï¼Œå°†å…¨å±€æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡å¼¹å‡ºã€‚</li>\n</ol>\n<p>è¿™å°±æ˜¯ JavaScript ä»£ç çš„æ•´ä½“è¿è¡Œæµç¨‹ï¼Œé‚£ä¹ˆå¾ˆå¥½å¥‡çš„æ˜¯ï¼Œè¿™ä¸ª ExecutionContext åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿä¸‹æ–‡å°±è¦æ­å¼€å®ƒçš„ç¥ç§˜é¢çº±ã€‚</p>\n<p>ç°åœ¨ JavaScript å·²ç»å‘å±•åˆ°å…¨æ°‘ ES6+çš„æ—¶ä»£ï¼Œåœ¨ ES6 ä¹‹å‰å’Œ ES6 è¿™ä¸¤ä¸ªé˜¶æ®µï¼Œæ‰§è¡ŒæœŸä¸Šä¸‹æ–‡å‘ç”Ÿäº†å¾ˆå¤§çš„å˜åŒ–ï¼Œå…¶å˜åŒ–åŸå› æ˜¯ä¸ºäº†è¦å®ç° ES6 ä¸­çš„<code class=\"language-text\">let const</code> å—çº§ä½œç”¨åŸŸç‰¹æ€§ã€‚</p>\n<h2>ES3</h2>\n<p>åœ¨ ES6 ä¹‹å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„å†…å®¹ä¸»è¦æœ‰ä¸‰ä¸ªéƒ¨åˆ†</p>\n<ol>\n<li>ä½œç”¨åŸŸé“¾</li>\n<li>å˜é‡å¯¹è±¡</li>\n<li>this</li>\n</ol>\n<p>ä½¿ç”¨ JavaScript å¯¹è±¡çš„å½¢å¼è¡¨ç¤ºå°±æ˜¯</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  scopeChain<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  variableObject<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å½“ä»£ç æ‰§è¡Œçš„æ—¶å€™æ‰§è¡Œä¸Šä¸‹æ–‡å¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ</p>\n<ol>\n<li>åˆ›å»ºé˜¶æ®µ</li>\n<li>æ¿€æ´»é˜¶æ®µ</li>\n</ol>\n<h3>åˆ›å»ºé˜¶æ®µ</h3>\n<p>æ‰€è°“åˆ›å»ºé˜¶æ®µå°±æ˜¯åœ¨ä»£ç æ‰§è¡Œå‰ä¸ºå…¶åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸ºå…¶åˆ›å»ºå˜é‡ã€å‡½æ•°ã€å‚æ•°ç­‰ï¼š</p>\n<ol>\n<li>åˆ›å»º scopeChain</li>\n<li>åˆ›å»º variableObjectï¼Œå¹¶ä¸ºå…¶åˆå§‹åŒ–å˜é‡ã€å‡½æ•°ã€å‚æ•°</li>\n<li>ç¡®å®š this çš„ç»‘å®š</li>\n</ol>\n<p>scopeChain å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ä½œç”¨åŸŸé“¾ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ä¼¼äºæ•°ç»„çš„ä¸€ä¸ªç»“æ„ï¼Œåœ¨å…¶ä¸­ä¿å­˜åœ¨å½“å‰å‡½æ•°çš„ä¸Šå±‚ä¸Šä¸‹æ–‡ã€‚</p>\n<p>variableObject ç”¨äºå­˜æ”¾æ‰§è¡Œè¿‡ç¨‹ä¸­å˜é‡å’Œå‡½æ•°ï¼Œå˜é‡æå‡å°±æ˜¯ä»è¿™é‡Œç”±æ¥ï¼Œ</p>\n<p>this ç”¨æ¥ç¡®å®šå½“å‰å‡½æ•°çš„ this æŒ‡å‘ã€‚</p>\n<p>åˆ›å»ºå®Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¹‹åä¼šå¯¹ä»£ç è¿›è¡Œæ‰«æï¼Œå¹¶å‘ç”Ÿå¦‚ä¸‹æƒ…å†µï¼š</p>\n<ol>\n<li>åˆ›å»º arguments object ï¼Œå¹¶æ£€æŸ¥å…¶ä¸­çš„å‚æ•°ï¼Œä¸ºå…¶åˆå§‹åŒ–æˆå˜é‡å­˜æ”¾åœ¨ variableObject ä¸­</li>\n<li>æ‰«æä¸Šä¸‹æ–‡ä¸­çš„å‡½æ•°å£°æ˜ï¼Œå¯¹äºæ‰¾åˆ°çš„æ¯ä¸€ä¸ªå‡½æ•°ï¼Œå°†å…¶åä½œä¸º key å…¶å‡½æ•°ä½“ä½œä¸º value å­˜æ”¾åœ¨ variableObject ä¸­ï¼Œå¦‚æœå·²ç»å­˜åœ¨åˆ™ç›´æ¥è¦†ç›–ã€‚</li>\n<li>æ‰«æä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å£°æ˜ï¼Œåœ¨ variableObject ä¸­ä»¥å…¶å˜é‡åä½œä¸º key åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œåˆå§‹åŒ–å€¼ä¸º undefined(å˜é‡æå‡çš„åŸç†)ï¼Œå¦‚æœåœ¨ variableObject ä¸­å·²ç»å­˜åœ¨ï¼Œåˆ™ç›´æ¥å¿½ç•¥ã€‚</li>\n</ol>\n<p>æ­¤æ—¶æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ›å»ºé˜¶æ®µå·²ç»å®Œæ¯•äº†ï¼Œæˆ‘ä»¬æ‰¾ä¸€ä¸ªä¾‹å­æ¥çœ‹ä¸€ä¸‹</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">ecTest</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">,</span> c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">var</span> d <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">e</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">f</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">ecTest</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>æ ¹æ®ä¸Šé¢æ­¥éª¤ï¼Œè¿™éƒ¨åˆ†ä»£ç ç”Ÿæˆçš„æ‰§è¡Œå™¨ä¸Šä¸‹æ–‡ä¸ºï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  scopeChain<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  variableObject<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    arguments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    d<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n    f<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span>\n    <span class=\"token function-variable function\">e</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>æ¿€æ´»é˜¶æ®µ</h3>\n<p>æ¿€æ´»é˜¶æ®µå°±æ˜¯ä»£ç çœŸæ­£æ‰§è¡Œçš„æ—¶å€™äº†ï¼Œå½“æ‰§è¡Œä¸Šä¸‹æ–‡è¿›å…¥æ¿€æ´»é˜¶æ®µçš„æ—¶å€™ï¼Œä¼šå¯¹ variableObject ç”Ÿæˆä¸€ä¸ªå¼•ç”¨ï¼Œå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ AO(activeObject)ã€‚æ‰§è¡Œé˜¶æ®µä¼šå¯¹ AO ä¸­çš„å±æ€§è¿›è¡Œå¤åˆ¶å¤„ç†(AO === VO)ã€‚è¿˜æ˜¯ä»¥åˆ›å»ºé˜¶æ®µçš„ ğŸŒ° ä¸ºä¾‹å§ï¼Œä»£ç é€è¡Œè§£ææ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<p>æ­¤æ—¶æ‰§è¡Œä¸Šä¸‹æ–‡ä¸º</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  scopeChain<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  variableObject<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    arguments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    d<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n    f<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span>\n    <span class=\"token function-variable function\">e</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>æ‰§è¡Œ console.log(d),è¾“å‡º undefined</li>\n<li>æ‰§è¡Œ var d = 1ï¼Œç”±äºå·²ç»æå‡ï¼Œå£°æ˜å¿½ç•¥ï¼Œæ‰§è¡Œ d = 1</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  scopeChain<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  variableObject<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    arguments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    d<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    f<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span>\n    <span class=\"token function-variable function\">e</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"3\">\n<li>æ‰§è¡Œ console.log(1)ï¼Œ è¾“å‡º 1</li>\n<li>function e() {} å·²ç»æå‡ï¼Œå¿½ç•¥</li>\n<li>var f = function() {} å˜é‡æå‡ï¼Œå£°æ˜å¿½ç•¥ï¼Œæ‰§è¡Œ f = function(){}</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  scopeChain<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  variableObject<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    arguments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    a<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    b<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    c<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n    d<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">f</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">e</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"6\">\n<li>æ‰§è¡Œå®Œæ¯•</li>\n</ol>\n<p>è¿™å°±æ˜¯æ¿€æ´»é˜¶æ®µçš„è¿‡ç¨‹ã€‚</p>\n<h3>å°ç»“</h3>\n<p>ä»¥ä¸Šæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡åœ¨ ES3 ä¸­çš„å…·ä½“è¡¨ç°ï¼Œå¦‚æœä½ å¯¹ ES6 çš„ä¸€äº›ç‰¹æ€§(let const æš‚æ—¶æ€§æ­»åŒºï¼Œgenerator)æœ‰äº†è§£çš„è¯ï¼Œä¸€å®šä¼šè§‰å¾—ä»¥ä¸Šçš„ä¸œè¥¿è§£é‡Šä¸äº† ES6ã€‚åœ¨ ES6 åˆ°æ¥çš„æ—¶å€™ï¼Œæ•´ä½“æ‰§è¡Œä¸Šä¸‹æ–‡åšäº†æ›´æ–°ï¼Œä½¿ç”¨è¯æ³•ç¯å¢ƒå’Œå˜é‡ç¯å¢ƒæ¥åˆ†åˆ«å­˜æ”¾ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ã€‚</p>\n<h2>ES6</h2>\n<p>ES6 çš„åˆ°æ¥ï¼Œæˆ‘æ„Ÿè§‰å¸¦æ¥çš„æœ€å¤§çš„å˜é©å°±æ˜¯æ¨å‡ºäº†å—çº§ä½œç”¨åŸŸï¼Œä½¿ç”¨ let å’Œ const æ¥å®šä¹‰å˜é‡æ¥æ‘†è„± var å˜é‡æå‡å¸¦æ¥çš„å›°æƒ‘ï¼ŒåŒæ ·ä¹Ÿä¸ºæ‰§è¡Œä¸Šä¸‹æ–‡å¢åŠ äº†å¤æ‚åº¦ï¼Œä¸åƒ ES3 æ—¶æœŸæ›´æœ‰ç›´è§‚æ€§ï¼Œæ›´åŠ éš¾ä»¥ç†è§£ã€‚ä½†æ˜¯ï¼Œå³ä½¿é“è·¯å´å²–åå·ä¹Ÿé˜»æŒ¡ä¸äº†æ¢ç´¢æŠ€æœ¯æ·±åº¦çš„å†³å¿ƒã€‚ä¸‹é¢æ¥æ·±å…¥æ¢ç©¶ ES6 æ—¶æœŸçš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚</p>\n<h2>ç»“æ„å˜åŒ–</h2>\n<p>ES6 çš„æ‰§è¡Œå™¨ä¸Šä¸‹æ–‡å¢åŠ äº†å¾ˆå¤šä¸œè¥¿ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">ExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  LexicalEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  VariableEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  CodeEvaluationState<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  Function<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  ScriptOrModule<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  Realm<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n  Generator<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol>\n<li>LexicalEnvironmentï¼šè¯æ³•ç¯å¢ƒï¼Œå½“è·å–å˜é‡æˆ–è€… this å€¼çš„æ—¶å€™ä½¿ç”¨</li>\n<li>VariableEnvironmentï¼šå˜é‡ç¯å¢ƒï¼Œå½“ç”Ÿå‘½å˜é‡æ—¶ä½¿ç”¨ã€‚</li>\n<li>CodeEvaluationStateï¼šç”¨äºæ¢å¤ä»£ç æ‰§è¡Œä½ç½®</li>\n<li>Functionï¼šæ‰§è¡Œçš„ä»»åŠ¡æ˜¯å‡½æ•°æ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºæ­£åœ¨æ‰§è¡Œçš„å‡½æ•°</li>\n<li>ScriptOrModuleï¼šæ‰§è¡Œçš„ä»»åŠ¡æ˜¯è„šæœ¬æˆ–è€…æ¨¡å—æ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºå½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»£ç </li>\n<li>Realmï¼šä½¿ç”¨çš„åŸºç¡€åº“å’Œå†…ç½®å¯¹è±¡å®ä¾‹</li>\n<li>Generatorï¼šä»…ç”Ÿæˆå™¨ä¸Šä¸‹æ–‡æœ‰è¿™ä¸ªå±æ€§ï¼Œè¡¨ç¤ºå½“å‰ç”Ÿæˆå™¨</li>\n</ol>\n<p>ä»¥ä¸Šå°±æ˜¯ç›®å‰ JavaScript æ‰§è¡Œå™¨ä¸Šä¸‹æ–‡ä¸­çš„æ‰€ç”¨å±æ€§ã€‚æœ¬æ–‡ä»¥ä¸‹å†…å®¹ä»…æ¢è®¨å’Œæˆ‘ä»¬ä»£ç æ‰§è¡Œæœ‰å…³çš„<code class=\"language-text\">LexicalEnvironment</code>å’Œ<code class=\"language-text\">VariableEnvironment</code>è¿™ä¸¤ä¸ªã€‚</p>\n<p>ES6 çš„æ‰§è¡Œå™¨ä¸Šä¸‹æ–‡åŒæ ·åˆ†ä¸ºåˆ›å»ºé˜¶æ®µå’Œæ¿€æ´»é˜¶æ®µä¸¤ç§ã€‚</p>\n<h3>åˆ›å»ºé˜¶æ®µ</h3>\n<p>åˆ›å»ºé˜¶æ®µä¸»è¦ç”¨äºåˆå§‹åŒ–è¯æ³•ç¯å¢ƒå’Œå˜é‡ç¯å¢ƒï¼Œå¹¶åˆå§‹åŒ–ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ã€å˜é‡å£°æ˜ã€å‡½æ•°å£°æ˜ç­‰ç­‰ã€‚</p>\n<p>æ— è®ºæ˜¯è¯æ³•ç¯å¢ƒè¿˜æ˜¯å˜é‡ç¯å¢ƒä¸­éƒ½å­˜åœ¨ä¸‰ä¸ªå±æ€§ï¼š</p>\n<ol>\n<li>EnvironmentRecordï¼šç”¨äºå­˜æ”¾ä¸Šä¸‹æ–‡ä¸­çš„ç¯å¢ƒè®°å½•ï¼Œå°±æ˜¯ ES3 ä¸­çš„ VO</li>\n<li>outerï¼šå¯¹ä¸Šå±‚ç¯å¢ƒçš„å¼•ç”¨ï¼ŒES6 é‡‡ç”¨è¿™ç§æ–¹å¼æ¥æŠŠä½œç”¨åŸŸé“¾æ¥æˆä¸€ä¸ª outer é“¾æ¡è¡¨ç¤ºä½œç”¨åŸŸé“¾</li>\n<li>thisï¼šthis å€¼çš„ç»‘å®š</li>\n</ol>\n<p>EnvironmentRecord å­˜åœ¨ä¸¤ç§å½¢æ€ï¼š</p>\n<ol>\n<li>Object Environmentï¼šä»…åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å‡ºç°</li>\n<li>Declarative Environmentï¼šç”¨äºå­˜å‚¨å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜ä»¥åŠ catch å­å¥ä¸­çš„å˜é‡ã€‚ä»…åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å‡ºç°</li>\n</ol>\n<p><strong>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">GlobalExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  LexicalEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token punctuation\">:</span> <span class=\"token string\">'Object Environment'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>global object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  VariableEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token punctuation\">:</span> <span class=\"token string\">'Object Environment'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>global object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">GlobalExecutionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  LexicalEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token punctuation\">:</span> <span class=\"token string\">'Declarative Environment'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>global object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  VariableEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token punctuation\">:</span> <span class=\"token string\">'Declarative Environment'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>global object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æ¥çœ‹ä¸‹é¢è¿™ä¸ª ğŸŒ°</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n<span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n<span class=\"token keyword\">var</span> c\n<span class=\"token keyword\">function</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e<span class=\"token punctuation\">,</span> f</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> g <span class=\"token operator\">=</span> <span class=\"token number\">20</span>\n  <span class=\"token keyword\">return</span> e <span class=\"token operator\">*</span> f <span class=\"token operator\">*</span> g\n<span class=\"token punctuation\">}</span>\nc <span class=\"token operator\">=</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>å½“ä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼Œé¦–å…ˆåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¶é¡ºåºå¦‚ä¸‹ï¼š</p>\n<ol>\n<li>é¦–å…ˆæ‰¾ let å’Œ const å£°æ˜ï¼Œå°†å…¶å˜é‡ååšä¸º key å€¼æ”¾åœ¨ LexicalEnvironment çš„ EnvironmentRecode ä¸­ï¼Œå€¼ä¸ºä¸ºåˆå§‹çŠ¶æ€ï¼šuninitialized</li>\n<li>æ‰¾å‡½æ•°å£°æ˜ï¼Œå°†å‡½æ•°åä½œä¸º key å€¼æ”¾åœ¨ LexicalEnvironment çš„ EnvironmentRecord ä¸­ï¼Œå€¼ä¸ºå‡½æ•°ä½“</li>\n<li>æ‰¾å˜é‡å£°æ˜ï¼Œé¦–å…ˆåˆ¤æ–­è¯æ³•ç¯å¢ƒä¸­æ˜¯å¦æœ‰é‡åçš„ const let å£°æ˜ï¼Œå¦‚æœæœ‰çš„è¯å°±ä¼šæŠ¥é”™ï¼Œå¦‚æœæ²¡æœ‰çš„è¯åˆ™å°†å˜é‡åä½œä¸º key å€¼æ”¾åœ¨ VariableEnvironment çš„ EnvironmentRecord ä¸‹ï¼Œå€¼ä¸º undefined</li>\n</ol>\n<p>æ ¹æ®ä»¥ä¸Šæ­¥éª¤ï¼Œæ‰€åˆ›å»ºçš„å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">GlobalExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  LexicalEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      a<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span> uninitialized <span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n      b<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span> uninitialized <span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n      multiply<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span> func <span class=\"token operator\">></span>\n    <span class=\"token punctuation\">}</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  VariableEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      c<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æˆ‘ä»¬å…ˆè·³è¿‡å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ¿€æ´»é˜¶æ®µï¼Œå…ˆçœ‹ä¸€ä¸‹ multiply å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºçŠ¶æ€</p>\n<ol>\n<li>é¦–å…ˆåˆ›å»º Arguments Object,åˆå§‹åŒ–å…¶ä¸­çš„å€¼ï¼Œæ”¾åœ¨ LexicalEnvironment çš„ EnvironmentRecord ä¸­</li>\n<li>ä¸€ä¸‹æ­¥éª¤åŒå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</li>\n</ol>\n<p>æœ€ç»ˆ multiply çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸ºï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">FunctionExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\nLexicalEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      Arguments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nVariableEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      g<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>æ¿€æ´»é˜¶æ®µ</h3>\n<p>æ¿€æ´»é˜¶æ®µé€è¡Œæ‰§è¡Œï¼Œä¸ ES3 çš„æ—¶å€™å¦‚å‡ºä¸€è¾™ã€‚å”¯ä¸€éœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œlet å’Œ const çš„å£°æ˜ä¼šé¦–å…ˆå°†å€¼è®¾ç½®ä¸º<code class=\"language-text\">uninitialized</code>çŠ¶æ€ï¼Œå¦‚æœåœ¨å£°æ˜ä¹‹ä¸Šä½¿ç”¨å…¶å˜é‡å°±ä¼šå‡ºç°æš‚æ—¶æ€§æ­»åŒºçš„ç°è±¡ã€‚</p>\n<p>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ¿€æ´»çŠ¶æ€æœ€ç»ˆä¸ºï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">GlobalExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\nLexicalEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      a<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n      b<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n      multiply<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span> func <span class=\"token operator\">></span>\n    <span class=\"token punctuation\">}</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nVariableEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Object\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      c<span class=\"token punctuation\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">null</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>multiply å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ¿€æ´»çŠ¶æ€ä¸ºï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">FunctionExectionContext <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\nLexicalEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      Arguments<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nVariableEnvironment<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    EnvironmentRecord<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      Type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Declarative\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// Identifier bindings go here</span>\n      g<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    outer<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>GlobalLexicalEnvironment<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n    ThisBinding<span class=\"token punctuation\">:</span> <span class=\"token operator\">&lt;</span>Global Object or <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>ç»“æŸè¯­</h2>\n<p>ä¸€é—¨è¯­è¨€çš„å­¦ä¹ å¿…å®šè¦å­¦ä¹ å…¶å†…éƒ¨çš„æ‰§è¡Œæœºåˆ¶ï¼Œè‡ªæˆ‘æ„Ÿè§‰æ˜ç™½äº† JavaScript æ‰§è¡Œä¸Šä¸‹æ–‡ä¹‹åï¼Œåœ¨ä»£ç å±‚é¢ä¸Šæ›´åŠ äº†è§£æ‰§è¡Œé¡ºåºï¼Œå®¹é”™ç‡é«˜äº†å¾ˆå¤šã€‚æ¯•ç«Ÿï¼ŒçŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ç™¾èƒœå˜›ã€‚</p>","frontmatter":{"title":"æ·±å…¥äº†è§£JavaScriptæ‰§è¡Œä¸Šä¸‹æ–‡","date":"September 27, 2019","description":"æ·±å…¥JavaScriptå†…éƒ¨æ‰§è¡Œæœºåˆ¶ï¼Œäº†è§£JavaScriptæ‰§è¡Œå™¨ä¸Šä¸‹æ–‡ã€‚","category":"JavaScript"}}},"pageContext":{"slug":"/content/JavaScript/javascript-execution-context/","previous":{"fields":{"slug":"/content/TypeScript/v8-type-typescript/"},"frontmatter":{"title":"ä»V8å¯¹ç±»å‹çš„ä¼˜åŒ–ä¸Šè°ˆä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScript"}},"next":{"fields":{"slug":"/content/Vue/vue-compiler-build/"},"frontmatter":{"title":"Vueæºç æ„å»ºè¿‡ç¨‹-ä¸åŒå¹³å°&ä¸åŒç¯å¢ƒ"}}}}}