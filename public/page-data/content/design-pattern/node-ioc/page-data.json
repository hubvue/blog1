{"componentChunkName":"component---src-templates-blog-post-js","path":"/content/design-pattern/node-ioc/","result":{"data":{"site":{"siteMetadata":{"title":"Kim Blog","author":"Kim"}},"markdownRemark":{"id":"92e04cbb-bc6a-5416-9804-2ed02feab9ad","excerpt":"å‰è¨€ éšç€é¡¹ç›®éœ€æ±‚çš„å¢åŠ ï¼ŒNodeâ€¦","html":"<h2>å‰è¨€</h2>\n<p>éšç€é¡¹ç›®éœ€æ±‚çš„å¢åŠ ï¼ŒNode æ¨¡å—ä¹Ÿç›¸ç»§å¢åŠ ï¼Œå„æ¨¡å—é—´çš„ä¾èµ–è€¦åˆåº¦è¶Šæ¥è¶Šä¸¥é‡ï¼Œéå¸¸éš¾ç»´æŠ¤ï¼Œæœ‰æ—¶å€™æ”¹ä¸€å¤„ä»£ç éœ€è¦æ‡‚å¥½å‡ å¤„ä»£ç ï¼Œé¡¹ç›®é€æ¸è¾¾åˆ°ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«çš„åœ°æ­¥ï¼Œæ‰€è°“<code class=\"language-text\">é«˜å†…èšã€ä½è€¦åˆ</code>å®Œå…¨æ²¡å¾—è°ˆï¼Œå¦‚ä½•åšåˆ°æ¨¡å—é—´é«˜åº¦è§£è€¦æ˜¯æ¯ä¸ªå·¥ç¨‹å¸ˆå¿…è¦æ€è€ƒçš„é—®é¢˜ã€‚</p>\n<h2>è®¾è®¡æ¨¡å¼</h2>\n<p>ä¸ºäº†è§£å†³æ¨¡å—é—´ä¾èµ–è€¦åˆçš„é—®é¢˜ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯è¦æ‰¾åˆ°ä¸€ç§è®¾è®¡æ¨¡å¼æ¥å¸®åŠ©æˆ‘ä»¬åšåˆ°æ¨¡å—é—´è§£è€¦ã€‚å…¶ä¸­åšçš„å¾ˆå¥½çš„ä¸¤ä¸ªå°±æ˜¯ DI å’Œ IOC äº†ï¼Œä¸‹é¢æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸¤ç§è®¾è®¡æ¨¡å¼ã€‚</p>\n<h2>Dependency Injection</h2>\n<p><code class=\"language-text\">Dependency Injection</code>ç®€ç§°<code class=\"language-text\">DI</code>,ä¸­æ–‡æ˜¯ä¾èµ–æ³¨å…¥çš„æ„æ€ã€‚å³æ¨¡å—ä¹‹é—´çš„ä¾èµ–ç”±é«˜å±‚æ¨¡å—åœ¨è¿è¡ŒæœŸå†³å®šï¼Œå½¢è±¡çš„è¯´ï¼Œå½“é«˜å±‚æ¨¡å—åœ¨è¿è¡Œæ—¶ç¡®å®šéœ€è¦å“ªä¸ªåº•å±‚æ¨¡å—ï¼Œå¹¶ä¸”æ³¨å…¥è¿›å»ã€‚æ¥çœ‹ä¸‹é¢ ğŸŒ°ã€‚</p>\n<p><strong>noDI</strong></p>\n<p>è¿™é‡Œæœ‰ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯è®¢å•æ¨¡å—ç±»ï¼Œä¸€ä¸ªæ˜¯è®¢å•æ§åˆ¶å™¨ç±»ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// è®¢å•modelç±»   models/Order.js</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Order</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//......æ•°æ®åº“æ“ä½œ</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// è®¢å•ç±» controllers/OrderController.js</span>\n<span class=\"token keyword\">const</span> Order <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./Order.js'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>order <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">craeteOrder</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>order<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//router/index.js</span>\n<span class=\"token keyword\">const</span> OrderController <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../controllers/OrderController.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> orderController <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OrderController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ä¸Šé¢æ˜¯æ²¡æœ‰ä¾èµ–æ³¨å…¥çš„æƒ…å†µï¼Œå¯ä»¥çœ‹å‡º<code class=\"language-text\">OrderController</code>ç±»ä¸¥é‡è€¦åˆäº†<code class=\"language-text\">Order</code>ç±»ã€‚ä¸Šé¢çš„<code class=\"language-text\">OrderController</code>ç±»ä¾èµ–äº†<code class=\"language-text\">Order</code>ç±»ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨çš„æ—¶å€™å°±å¿…é¡»å…ˆ<code class=\"language-text\">require</code> <code class=\"language-text\">Order</code>ç±»ï¼Œæ‰å¯ä»¥åœ¨<code class=\"language-text\">OrderController</code>ç±»ä¸­ä½¿ç”¨ã€‚è€¦åˆæ€§å¤ªé«˜ï¼Œå‡å¦‚æˆ‘ä»¬éœ€è¦æŠŠ<code class=\"language-text\">Order</code>ç±»æ–‡ä»¶ç§»åŠ¨åˆ°äº†åˆ«çš„ç›®å½•ï¼Œé‚£ä¹ˆæ‰€æœ‰ä¾èµ–è¿™ä¸ªç±»çš„æ–‡ä»¶éƒ½éœ€è¦å˜åŒ–ã€‚</p>\n<p><strong>DI</strong></p>\n<p>æ²¿ç”¨ä¸Šé¢ä¸¤ä¸ªç±»ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¾èµ–æ³¨å…¥çš„æƒ…å†µã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// è®¢å•modelç±»   models/Order.js</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Order</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//......æ•°æ®åº“æ“ä½œ</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// è®¢å•ç±» controllers/OrderController.js</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">OrderController</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">order</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>order <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">order</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">craeteOrder</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>order<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//router/index.js</span>\n<span class=\"token keyword\">const</span> Order <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../models/Order.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> OrderController <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../controllers/OrderController.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> orderController <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OrderController</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ä»ä¸Šé¢ä»£ç æ¥çœ‹<code class=\"language-text\">OrderController</code>ç±»æ–‡ä»¶ä¸­å·²ç»ä¸éœ€è¦æ‰‹åŠ¨çš„å¼•å…¥<code class=\"language-text\">Order</code>ç±»äº†ï¼Œè€Œæ˜¯é€šè¿‡ constructor åœ¨è¿è¡Œæ—¶çš„æ—¶å€™ä¼ è¿›å»ã€‚åœ¨ router æ–‡ä»¶ä¸­ï¼Œå½“å®ä¾‹åŒ–<code class=\"language-text\">OrderController</code>ç±»çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿå®ä¾‹åŒ–<code class=\"language-text\">Order</code>ç±»ï¼Œå¹¶ä¸”ä½œä¸º<code class=\"language-text\">OrderController</code>æ„é€ å‡½æ•°çš„å‚æ•°ä¼ è¿›å»ã€‚</p>\n<h3>å°ç»“</h3>\n<p>å¯ä»¥çœ‹å‡ºä¾èµ–æ³¨å…¥å·²ç»è®©æˆ‘ä»¬æ¨¡å—é—´è§£è€¦ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ç‚¹ä¸è¶³ä¹‹å¤„ï¼Œä¸‹é¢æ€»ç»“ä¸€ä¸‹ä¾èµ–æ³¨å…¥çš„ä¼˜ç‚¹ä¸ä¸è¶³ã€‚</p>\n<p><strong>ä¼˜ç‚¹</strong></p>\n<p>é€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼Œæ˜¯æˆ‘ä»¬é«˜å±‚æ¨¡å—å’Œåº•å±‚æ¨¡å—é—´çš„è€¦åˆé™ä½äº†ï¼Œå› æ­¤ï¼Œå½“åº•å±‚æ¨¡å—ä½ç½®å˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦æ‡‚ router ä¸­çš„ä¾èµ–è·¯å¾„å°±å¯ä»¥äº†ï¼Œé«˜å±‚æ¨¡å—ä¸­åšäº†ä»€ä¹ˆæˆ‘ä»¬éƒ½ä¸éœ€è¦å…³å¿ƒäº†ã€‚</p>\n<p><strong>ä¸è¶³</strong></p>\n<p>å¯ä»¥çœ‹å‡ºæˆ‘ä»¬æ‰€æœ‰çš„ä¾èµ–çš„æ¨¡å—éƒ½æ˜¯åœ¨ router æ¨¡å—ä¸­å¼•å…¥çš„ï¼Œæ˜æ˜¾çš„é™ä½äº† router æ¨¡å—çš„å¤æ‚æ€§ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç”¨æ¥ä¸“é—¨ç®¡ç†æ³¨å…¥æ–¹ä»¥åŠè¢«æ³¨å…¥æ–¹çš„å®¹å™¨ï¼Œè®© router æ¨¡å—å’Œå¾€å¸¸ä¸€æ ·è½»é‡ï¼Œæ²¡é”™è¿™ä¸ªä¸œè¥¿å°±æ˜¯ IOCã€‚</p>\n<h2>Inversion of Control</h2>\n<p><code class=\"language-text\">Inversion of Control</code>ç®€ç§°<code class=\"language-text\">IOC</code>ï¼Œå³æ§åˆ¶åè½¬ï¼Œå¹¶ä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚ä¸Šé¢æåˆ° DI çš„ä¸è¶³å¯ä»¥ä½¿ç”¨ IOC æ¥è§£å†³ï¼Œå…¶å® IOC ä¹Ÿå« DIã€‚IOC æ„å‘³ç€å°†ä¾èµ–æ¨¡å—å’Œè¢«ä¾èµ–æ¨¡å—éƒ½äº¤ç»™å®¹å™¨å»ç®¡ç†ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨æ¨¡å—çš„æ—¶å€™ï¼Œç”±å®¹å™¨åŠ¨æ€çš„å°†å®ƒçš„ä¾èµ–å…³ç³»æ³¨å…¥åˆ°æ¨¡å—ä¸­å»ã€‚ä¾æ®ä¸Šé¢ DI çš„æ€æƒ³ï¼Œä¸‹é¢å°±æ¥å®ç°ä»¥ä¸‹ IOCã€‚</p>\n<p>é¦–å…ˆ IOC ä¸­æœ‰ä¸ªå®¹å™¨çš„æ¦‚å¿µï¼Œç”¨æ¥ç®¡ç†æ‰€æœ‰æ¨¡å—ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">IOC</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>container <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>æˆ‘ä»¬è¦æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºè®©æˆ‘ä»¬å¾€å®¹å™¨ä¸­å­˜å…¥æ¨¡å—ï¼Œä¾‹å¦‚ä¸Šé¢ Order ç±»ï¼ŒIOC å¿…é¡»è¦æœ‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> Order <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../models/Order.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> OrderController <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../controllers/OrderController.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">ioc</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token string\">'order'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OrderController</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>bind æ–¹æ³•ç”¨äºå¾€ IOC å®¹å™¨ä¸­å­˜æ”¾æ¨¡å—é—´çš„ä¾èµ–ï¼Œå¹¶æ­¤åˆ»ç¡®å®šé«˜å±‚æ¨¡å—çš„ä¾èµ–é¡¹ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">IOC</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>container <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä¸Šé¢å°±æ˜¯ bind æ–¹æ³•å¾ˆç®€å•ï¼Œä½ ä¼šå‘ç°æˆ‘åœ¨å®¹å™¨çš„æ¯ä¸€é¡¹ä¸Šæ·»åŠ äº† single å±æ€§ï¼Œè¿™æ˜¯ç”¨æ¥æ ‡è¯†æœ‰äº›ç±»æ—¶å•ä¾‹çš„ã€‚ä¸‹é¢æ¥å®ç°ä»¥ä¸‹å•ä¾‹çš„å†™æ³•ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">IOC</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>container <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">singleton</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å½“æ¨¡å—æ”¾å…¥å®¹å™¨ä¸­çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ç”¨çš„æ—¶å€™æ€ä¹ˆåŠå‘¢ï¼Ÿæ‰€ä»¥å¿…é¡»è¦æœ‰ä¸€ä¸ªæ–¹æ³•ç”¨äºè·å–åˆ°å®¹å™¨ä¸­çš„æ¨¡å—ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">//router.js</span>\n<span class=\"token keyword\">const</span> ioc <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ioc'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> orderController <span class=\"token operator\">=</span> ioc<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">'order'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ä¸Šé¢é€šè¿‡ use æ–¹æ³•å°±å¯ä»¥è·å–åˆ°äº†ã€‚ä¸‹é¢æ˜¯ use æ–¹æ³•çš„å®ç°</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">IOC</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>container <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">singleton</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>single <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>item<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      item<span class=\"token punctuation\">.</span>instance <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> item<span class=\"token punctuation\">.</span>single <span class=\"token operator\">?</span> item<span class=\"token punctuation\">.</span>instance <span class=\"token punctuation\">:</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä¸Šé¢ä»£ç å°±æ˜¯ use æ–¹æ³•çš„å®ç°ï¼Œé¦–å…ˆé€šè¿‡ key å€¼åœ¨å®¹å™¨ä¸­æ‰¾åˆ°å¯¹åº”çš„æ¨¡å—ï¼Œåˆ¤æ–­å¦‚æœæ¨¡å—ä¸å­˜åœ¨åˆ™æŠ¥é”™ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦æ˜¯å•ä¾‹ï¼Œå¦‚æœæ˜¯å•ä¾‹åˆ¤æ–­æ˜¯å¦å·²ç»è¢«å®ä¾‹åŒ–ï¼Œå·²ç»å®ä¾‹åŒ–å°±ä¸éœ€è¦å†è¿›è¡Œï¼Œæœ€åå¦‚æœæ˜¯å•ä¾‹çš„è¯è¿”å›å•ä¾‹å®ä¾‹ï¼Œåˆ™æ‰§è¡Œ callback å®ä¾‹åŒ–ã€‚</p>\n<p>ä»¥ä¸Šçš„ä»£ç å®Œå…¨å¯ä»¥åšåˆ° IOC çš„åŠŸèƒ½ã€‚</p>\n<h2>æ·»æ²¹åŠ é†‹</h2>\n<p>è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä»£ç ï¼Œå½“æˆ‘ä»¬å»åšæµ‹è¯•çš„æ—¶å€™ï¼Œè‚¯å®šä¸èƒ½ç›´æ¥ä½¿ç”¨è¿è¡Œæ—¶çš„ä»£ç ã€‚éšæ„æˆ‘ä»¬ç»™ IOC æ·»æ²¹åŠ é†‹ï¼Œåšä¸€ä¸ªæµ‹è¯•æ‰€ç”¨çš„å®¹å™¨ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">IOC</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>container <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fakes <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">singleton</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">fake</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key<span class=\"token punctuation\">,</span> callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fakes<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> callback<span class=\"token punctuation\">,</span> single<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">restore</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fakes<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">findInContainer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fakes<span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fakes<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">findInContainer</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>single <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>item<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      item<span class=\"token punctuation\">.</span>instance <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> item<span class=\"token punctuation\">.</span>single <span class=\"token operator\">?</span> item<span class=\"token punctuation\">.</span>instance <span class=\"token punctuation\">:</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">callback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä¸Šé¢æ·»åŠ äº†ä¸‰ç§æ–¹æ³•ï¼š<code class=\"language-text\">fake</code>ã€<code class=\"language-text\">restore</code>ã€<code class=\"language-text\">findInContainer</code></p>\n<ol>\n<li>fake æ–¹æ³•çš„ä½œç”¨æ˜¯å¾€æµ‹è¯•å®¹å™¨ä¸­æ·»åŠ æ¨¡å—</li>\n<li>restore æ–¹æ³•çš„ä½œç”¨æ˜¯åˆ é™¤æµ‹è¯•å®¹å™¨ä¸­çš„æ¨¡å—</li>\n<li>findInContainer çš„ä½œç”¨æ˜¯ç»Ÿä¸€ use æ–¹æ³•ä¸­ç”Ÿäº§å®¹å™¨å’Œæµ‹è¯•å®¹å™¨ä¸­è·å–æ¨¡å—çš„æ–¹æ³•ï¼Œå½“æµ‹è¯•å®¹å™¨ä¸­å­˜åœ¨çš„æ—¶å€™å°±å–æµ‹è¯•å®¹å™¨ä¸­çš„ï¼Œå¦åˆ™å–ç”Ÿäº§å®¹å™¨ä¸­çš„ã€‚(è¿™é‡Œæ³¨æ„ï¼šæµ‹è¯•å®¹å™¨ä¸­çš„æ¨¡å—ç”¨å®Œå³åˆ )</li>\n</ol>\n<p>æœ€åæˆ‘ä»¬é€šè¿‡è®¢å•ç±» ğŸŒ° æ¥å®è·µä¸€ä¸‹ä½¿ç”¨ IOC çš„æƒ…å†µã€‚</p>\n<p>//é¦–å…ˆå®šä¹‰ä¸€ä¸ª constants æ–‡ä»¶ç”¨äºå­˜åœ¨æ‰€æœ‰çš„ key å€¼</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">TYPES</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  order<span class=\"token punctuation\">:</span> Symbol<span class=\"token punctuation\">.</span><span class=\"token function\">for</span><span class=\"token punctuation\">(</span><span class=\"token string\">'order'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">TYPES</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ç„¶ååˆ›å»ºä¸€ä¸ª orderIOC æ–‡ä»¶åš IOC çš„æ³¨å†Œä¸­å¿ƒ</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">IOC</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ioc'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> Order <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../models/Order.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> OrderController <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../controllers/OrderController.js'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">TYPES</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../constants'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> ioc <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IOC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">ioc</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TYPES</span><span class=\"token punctuation\">.</span>order<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OrderController</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Order</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> ioc</code></pre></div>\n<p>åœ¨ router æ–‡ä»¶ä¸­é€šè¿‡ IOC æ¥è·å–åˆ° OrderController ç±»çš„å®ä¾‹,ä»¥ koa ä¸ºä¾‹</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> Router <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'koa-router'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> ioc <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../ioc'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">TYPES</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../constants'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> orderController <span class=\"token operator\">=</span> ioc<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token constant\">TYPES</span><span class=\"token punctuation\">.</span>order<span class=\"token punctuation\">)</span>\n\nrouter<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/create'</span><span class=\"token punctuation\">,</span> orderController<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">app</span> <span class=\"token operator\">=></span> app<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">routes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>router<span class=\"token punctuation\">.</span><span class=\"token function\">allowedMethods</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2>æ€»ç»“</h2>\n<p>ä¾èµ–è€¦åˆæ°¸è¿œéƒ½æ˜¯æˆ‘ä»¬åœ¨å†™ä¸šåŠ¡ä¸Šå¿…é¡»è¦è§£å†³çš„é—®é¢˜ï¼Œæ— è®ºæ˜¯æœåŠ¡ç«¯çš„æ¨¡å—åŒ–è¿˜æ˜¯å‰ç«¯çš„ç»„ä»¶åŒ–ï¼Œé™ä½ä¾èµ–å’Œè®©æ¨¡å—æ›´ç¨³å®šï¼Œæ›´ç‹¬ç«‹ï¼Œå®ç°å…³æ³¨ç‚¹åˆ†ç¦»ã€‚éå¸¸æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚</p>","frontmatter":{"title":"IOCåœ¨Nodejsä¸Šçš„åˆä½“éªŒ","date":"October 03, 2019","description":"æ¨¡å—é—´è§£è€¦ï¼ŒIOCåœ¨Nodeä¸Šçš„å®æˆ˜","category":"design-pattern"}}},"pageContext":{"slug":"/content/design-pattern/node-ioc/","previous":{"fields":{"slug":"/content/Vue/vue-start-pre-newvue/"},"frontmatter":{"title":"æµ…æä»åŠ è½½åˆ°new Vue()--Vueåšäº†ä»€ä¹ˆï¼Ÿ"}},"next":{"fields":{"slug":"/content/Webpack/webpack-mpa-solution/"},"frontmatter":{"title":"webpackå¤šé¡µé¢æ‰“åŒ…æ–¹æ¡ˆ"}}}}}